# Обобщение на курса по ООП - 05.06.2025

## Задача 01

Да се реализира абстрактен клас WorkItem, описващ задача със следните операции:

- `bool status(long now)` - връща `true`, ако задачата е приключена към момента `now` (в unix epoch time формат) и `false` в противен случай. При Unix Epoch Time формата времето се задава с числото секунди, изтекли от 1 януари 1970г. до дадения момент. Например 14:50:50 на 19 май 2021 е 1621425050 в unix epoch time, а 14:51:00 на 19 май 2021 е 1621425060 в unix epoch time (разликата е 10 секунди). 

- <подходящ_тип> name() - описание (символен низ с произволна дължина);

Да се дефинира клас SingleTask, наследник на WorkItem. Класът SingleTask да дефинира задача, имаща следните характеристики, задавани по време на конструиране на задачата:

- време на стартиране (unix epoch time);
- продължителност (в милисекунди);

Да се дефинира клас TaskGroup, наследник на WorkItem. Обектите от клас TaskGroup да поддържат списък с произволни задачи (прости и групови). Груповата задача се счита за приключена, когато всички нейни подзадачи за приключени. Класът да реализира следните операции:

- добавяне на нова подзадача;
- отпечатване имената на всички подзадачи;

- да се разширят WorkItem, SingleTask и TaskGroup така, че TaskGroup да може да поддържа операцията `contains(<име_на_задачата>)`. Тази операция проверява дали задача с име name се съдържа в групата от задачи или в някоя подзадача на произволно ниво на влагане в групата;

- addTask(<задача>) - да хвърля подходящо изключение, ако груповата задача или нейна вложена подзадача на произволно ниво вече съдържа задача със същото име като задачата. Да се демонстрира обработка на изключението в примерна програма;

- за клас TaskGroup да се позволи вложените в групата задачи да могат да бъдат обхождани с цикъл от вида на for ( t : g ), където g e група. Да се реализира възможност за итериране както на неконстантни, така и на константни групи.

## Задача 02

Да се реализира абстрактен базов клас `MathExpression`, описващ математически израз, чиято стойност е от тип `T`. Класът да декларира метод `value()`, даващ числовата стойност на израза, и метод `print(...)`, извеждащ израза в поток по начина, показан на примера по-долу.
 
Да се дефинира клас `Constant`, който представя константа от тип `T`. Стойността на константата да се задава при конструиране на обекта.

Да се дефинира клас `Min`, която представя по-малката стойност измежду стойностите на точно два израза от произволен тип. Изразите се задават при конструиране на обекта. 

Да се дефинира клас `Sum`, който представя сумата на произволен брой изрази от произволен тип. Класът да реализара метод `addExpression` за добавяне на израз към сумата. Класът `Sum` да позволява обхождане на елементите на сумата чрез итератор.

*Бонус*: Йерархията да се оптимизира по такъв начин, че изразът, съдържащ се в `Sum`, да **НЕ** се пресмята наново, ако не се е променил (т.е. не е бил добавен нов израз). 

Пример: Нека обектът expr представя израза от следната схема:

```
Sum
  |- Min
  |   |- Const 1
  |   |- Sum
  |   |   |- Const 2
  |   |   |- Const 1
  |- Sum
  |   |- Const 3
  |   |- Const 4
  |   |- Const 5
  |- Const 10
```

Методът `print` да извежда в поток следното представяне на израза:

```c++
sum(min(1, sum(2, 1)), sum(3, 4, 5), 10)
```

a методът `value` да връща стойност 23.
